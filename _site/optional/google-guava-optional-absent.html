<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mockito</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mockito</h1>
      <h2 class="project-tagline">Let's craft code with Mockito Library</h2>
      
      
    </section>

    <section class="main-content">
      <h3 id="optionalabsent">Optional.absent</h3>

<p><strong>Example</strong></p>

<p>Sometimes you need to indicate that the Optional has not a non null value. Instead of use <strong>Optional.of(null)</strong> or <strong>Optional.of(nullObject)</strong> we should use the <strong>Optional.absent()</strong> method.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GoogleGuavaOptionalTest</span> <span class="o">{</span>

	<span class="nd">@Test</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">shouldGetAnAbsentUser</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="n">Payment</span> <span class="n">payment</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Payment</span><span class="o">();</span>

		<span class="n">Optional</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">user</span> <span class="o">=</span> <span class="n">payment</span><span class="o">.</span><span class="na">getAnAbsentUser</span><span class="o">();</span>

		<span class="n">assertFalse</span><span class="o">(</span><span class="n">user</span><span class="o">.</span><span class="na">isPresent</span><span class="o">());</span>
	<span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Payment</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">getAnAbsentUser</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">getNullValue</span><span class="o">();</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">user</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">absent</span><span class="o">();</span> <span class="c1">//instead of use Optional.of(null)</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
	<span class="o">}</span>	

<span class="o">}</span>
</code></pre>
</div>

<p><a href="google-guava-optional">Back</a> to Optional page</p>


      <footer class="site-footer">
        
        <span class="site-footer-credits">This project was made by <a href="https://github.com/alexandregama">@alexandregama</a> with s2, music and beer.</span>
        <p>
            <span class="site-footer-credits"><a href="https://www.facebook.com/craftcoder">Facebook</a> | <a href="https://www.instagram.com/alexandregama/">Instagram | </a>
                <a href="https://medium.com/craft-coder">Medium</a> | <a href="https://twitter.com/alexandregamma">Twitter</a>
            </span>
        </p>

      </footer>
    </section>

    
      <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
        try {
          var pageTracker = _gat._getTracker("UA-90625499-1");
        pageTracker._trackPageview();
        } catch(err) {}
      </script>
    
  </body>
</html>
